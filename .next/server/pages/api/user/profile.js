"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/user/profile";
exports.ids = ["pages/api/user/profile"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("firebase/storage");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Fprofile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cuser%5Cprofile.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Fprofile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cuser%5Cprofile.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_user_profile_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\user\\profile.ts */ \"(api)/./src/pages/api/user/profile.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_user_profile_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_user_profile_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_user_profile_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_user_profile_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/user/profile\",\n        pathname: \"/api/user/profile\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_user_profile_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXIlMkZwcm9maWxlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUN1c2VyJTVDcHJvZmlsZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNnRTtBQUNoRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsMkRBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDJEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0b3JlLz84OTBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXHVzZXJcXFxccHJvZmlsZS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXIvcHJvZmlsZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXIvcHJvZmlsZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Fprofile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cuser%5Cprofile.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/firebase/init.ts":
/*!**********************************!*\
  !*** ./src/lib/firebase/init.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__]);\nfirebase_app__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// Import the functions you need from the SDKs you need\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBy1G-qeGMw4t8LO8GSx25rl4i5P81C_9c\",\n    authDomain: \"ziyo-craft.firebaseapp.com\",\n    projectId: \"ziyo-craft\",\n    storageBucket: \"ziyo-craft.appspot.com\",\n    messagingSenderId: \"4885433103\",\n    appId: \"1:4885433103:web:7b3b71e8708ab5acbe8c7a\"\n};\n// Initialize Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2ZpcmViYXNlL2luaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSx1REFBdUQ7QUFDVjtBQUU3Qyx3Q0FBd0M7QUFDeEMsTUFBTUMsaUJBQWlCO0lBQ3JCQyxRQUFRQyx5Q0FBd0M7SUFDaERHLFlBQVlILDRCQUE0QztJQUN4REssV0FBV0wsWUFBMkM7SUFDdERPLGVBQWVQLHdCQUErQztJQUM5RFMsbUJBQW1CVCxZQUFvRDtJQUN2RVcsT0FBT1gseUNBQXVDO0FBQ2hEO0FBRUEsc0JBQXNCO0FBQ3RCLE1BQU1hLE1BQU1oQiwyREFBYUEsQ0FBQ0M7QUFDMUIsaUVBQWVlLEdBQUdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdG9yZS8uL3NyYy9saWIvZmlyZWJhc2UvaW5pdC50cz85YWE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCB0aGUgZnVuY3Rpb25zIHlvdSBuZWVkIGZyb20gdGhlIFNES3MgeW91IG5lZWRcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuXHJcbi8vIFlvdXIgd2ViIGFwcCdzIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZLFxyXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLFxyXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCxcclxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lELFxyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxyXG5jb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuZXhwb3J0IGRlZmF1bHQgYXBwO1xyXG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkiLCJhdXRoRG9tYWluIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4iLCJwcm9qZWN0SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIiwic3RvcmFnZUJ1Y2tldCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VUIiwibWVzc2FnaW5nU2VuZGVySWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lEIiwiYXBwSWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQiLCJhcHAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/firebase/init.ts\n");

/***/ }),

/***/ "(api)/./src/lib/firebase/service.ts":
/*!*************************************!*\
  !*** ./src/lib/firebase/service.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addData: () => (/* binding */ addData),\n/* harmony export */   deleteData: () => (/* binding */ deleteData),\n/* harmony export */   retrieveData: () => (/* binding */ retrieveData),\n/* harmony export */   retrieveDataByField: () => (/* binding */ retrieveDataByField),\n/* harmony export */   retrieveDataById: () => (/* binding */ retrieveDataById),\n/* harmony export */   updateData: () => (/* binding */ updateData),\n/* harmony export */   uploadFile: () => (/* binding */ uploadFile)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init */ \"(api)/./src/lib/firebase/init.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__, _init__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, firebase_storage__WEBPACK_IMPORTED_MODULE_1__, _init__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getFirestore)(_init__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getStorage)(_init__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nasync function retrieveData(collectionName) {\n    try {\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, collectionName));\n        const data = snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        return data;\n    } catch (error) {\n        console.error(\"Error retrieving data:\", error);\n        throw new Error(\"Gagal mengambil data\");\n    }\n}\nasync function retrieveDataById(collectionName, id) {\n    try {\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, collectionName, id));\n        if (snapshot.exists()) {\n            return {\n                id: snapshot.id,\n                ...snapshot.data()\n            };\n        } else {\n            throw new Error(\"Dokumen tidak ditemukan\");\n        }\n    } catch (error) {\n        console.error(\"Error retrieving data by ID:\", error);\n        throw new Error(\"Gagal mengambil data berdasarkan ID\");\n    }\n}\nasync function retrieveDataByField(collectionName, field, value) {\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, collectionName), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(field, \"==\", value));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        const data = snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        return data;\n    } catch (error) {\n        console.error(\"Error retrieving data by field:\", error);\n        throw new Error(\"Gagal mengambil data berdasarkan field\");\n    }\n}\nasync function addData(collectionName, data, callback) {\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(firestore, collectionName), data);\n        callback(true, {\n            id: docRef.id\n        });\n    } catch (error) {\n        console.error(\"Error signing up:\", error);\n        callback(false);\n    }\n}\nasync function updateData(collectionName, id, data, callback) {\n    try {\n        if (!collectionName || !id || !data) {\n            throw new Error(\"Invalid arguments for updateData\");\n        }\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, collectionName, id);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, data);\n        callback(true);\n    } catch (error) {\n        console.error(\"Error updating data:\", error);\n        callback(false);\n    }\n}\nasync function deleteData(collectionName, id, callback) {\n    try {\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(firestore, collectionName, id);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(docRef);\n        callback(true);\n    } catch (error) {\n        console.error(\"Error deleting data:\", error);\n        callback(false);\n    }\n}\nasync function uploadFile(userid, file) {\n    if (file.size > 1048576) {\n        throw new Error(\"Ukuran file maksimal 1MB.\");\n    }\n    const newName = \"profile.\" + file.name.split(\".\").pop();\n    const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.ref)(storage, `images/users/${userid}/${newName}`);\n    const uploadTask = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.uploadBytesResumable)(storageRef, file);\n    return new Promise((resolve, reject)=>{\n        uploadTask.on(\"state_changed\", null, (error)=>{\n            reject(error);\n        }, async ()=>{\n            try {\n                const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_1__.getDownloadURL)(uploadTask.snapshot.ref);\n                resolve(downloadURL);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVwQyxJQUFJO1FBQ0YsTUFBTUMsU0FBU2hDLHVEQUFHQSxDQUFDWSxXQUFXRyxnQkFBZ0JLO1FBQzlDLE1BQU1yQiw2REFBU0EsQ0FBQ2lDO1FBQ2hCRCxTQUFTO0lBQ1gsRUFBRSxPQUFPVixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDVSxTQUFTO0lBQ1g7QUFDRjtBQUVPLGVBQWVJLFdBQVdDLE1BQWMsRUFBRUMsSUFBVTtJQUN6RCxJQUFJQSxLQUFLQyxJQUFJLEdBQUcsU0FBUztRQUN2QixNQUFNLElBQUlmLE1BQU07SUFDbEI7SUFFQSxNQUFNZ0IsVUFBVSxhQUFhRixLQUFLRyxJQUFJLENBQUNDLEtBQUssQ0FBQyxLQUFLQyxHQUFHO0lBQ3JELE1BQU1DLGFBQWFuQyxxREFBR0EsQ0FBQ0ssU0FBUyxDQUFDLGFBQWEsRUFBRXVCLE9BQU8sQ0FBQyxFQUFFRyxRQUFRLENBQUM7SUFDbkUsTUFBTUssYUFBYW5DLHNFQUFvQkEsQ0FBQ2tDLFlBQVlOO0lBRXBELE9BQU8sSUFBSVEsUUFBUSxDQUFDQyxTQUFTQztRQUMzQkgsV0FBV0ksRUFBRSxDQUNYLGlCQUNBLE1BQ0EsQ0FBQzNCO1lBQ0MwQixPQUFPMUI7UUFDVCxHQUNBO1lBQ0UsSUFBSTtnQkFDRixNQUFNNEIsY0FBYyxNQUFNdkMsZ0VBQWNBLENBQUNrQyxXQUFXNUIsUUFBUSxDQUFDUixHQUFHO2dCQUNoRXNDLFFBQVFHO1lBQ1YsRUFBRSxPQUFPNUIsT0FBTztnQkFDZDBCLE9BQU8xQjtZQUNUO1FBQ0Y7SUFFSjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RvcmUvLi9zcmMvbGliL2ZpcmViYXNlL3NlcnZpY2UudHM/NGY0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGFkZERvYyxcclxuICBjb2xsZWN0aW9uLFxyXG4gIGRlbGV0ZURvYyxcclxuICBkb2MsXHJcbiAgZ2V0RG9jLFxyXG4gIGdldERvY3MsXHJcbiAgZ2V0RmlyZXN0b3JlLFxyXG4gIHF1ZXJ5LFxyXG4gIHVwZGF0ZURvYyxcclxuICB3aGVyZSxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0U3RvcmFnZSxcclxuICByZWYsXHJcbiAgdXBsb2FkQnl0ZXNSZXN1bWFibGUsXHJcbiAgZ2V0RG93bmxvYWRVUkwsXHJcbn0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcclxuaW1wb3J0IGFwcCBmcm9tIFwiLi9pbml0XCI7XHJcblxyXG5jb25zdCBmaXJlc3RvcmUgPSBnZXRGaXJlc3RvcmUoYXBwKTtcclxuY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UoYXBwKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyaWV2ZURhdGEoY29sbGVjdGlvbk5hbWU6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBjb2xsZWN0aW9uTmFtZSkpO1xyXG4gICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+ICh7XHJcbiAgICAgIGlkOiBkb2MuaWQsXHJcbiAgICAgIC4uLmRvYy5kYXRhKCksXHJcbiAgICB9KSk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgZGF0YTpcIiwgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2FnYWwgbWVuZ2FtYmlsIGRhdGFcIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cmlldmVEYXRhQnlJZChcclxuICBjb2xsZWN0aW9uTmFtZTogc3RyaW5nLFxyXG4gIGlkOiBzdHJpbmdcclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2MoZG9jKGZpcmVzdG9yZSwgY29sbGVjdGlvbk5hbWUsIGlkKSk7XHJcbiAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgcmV0dXJuIHsgaWQ6IHNuYXBzaG90LmlkLCAuLi5zbmFwc2hvdC5kYXRhKCkgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRva3VtZW4gdGlkYWsgZGl0ZW11a2FuXCIpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBkYXRhIGJ5IElEOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJHYWdhbCBtZW5nYW1iaWwgZGF0YSBiZXJkYXNhcmthbiBJRFwiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyaWV2ZURhdGFCeUZpZWxkKFxyXG4gIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXHJcbiAgZmllbGQ6IHN0cmluZyxcclxuICB2YWx1ZTogc3RyaW5nXHJcbik6IFByb21pc2U8YW55W10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgY29sbGVjdGlvbk5hbWUpLFxyXG4gICAgICB3aGVyZShmaWVsZCwgXCI9PVwiLCB2YWx1ZSlcclxuICAgICk7XHJcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XHJcbiAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgIH0pKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBkYXRhIGJ5IGZpZWxkOlwiLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJHYWdhbCBtZW5nYW1iaWwgZGF0YSBiZXJkYXNhcmthbiBmaWVsZFwiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGREYXRhKFxyXG4gIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXHJcbiAgZGF0YTogYW55LFxyXG4gIGNhbGxiYWNrOiAoc3VjY2VzczogYm9vbGVhbiwgcmVzPzogYW55KSA9PiB2b2lkXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihmaXJlc3RvcmUsIGNvbGxlY3Rpb25OYW1lKSwgZGF0YSk7XHJcbiAgICBjYWxsYmFjayh0cnVlLCB7IGlkOiBkb2NSZWYuaWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzaWduaW5nIHVwOlwiLCBlcnJvcik7XHJcbiAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRGF0YShcclxuICBjb2xsZWN0aW9uTmFtZTogc3RyaW5nLFxyXG4gIGlkOiBzdHJpbmcsXHJcbiAgZGF0YTogYW55LFxyXG4gIGNhbGxiYWNrOiAoc3VjY2VzczogYm9vbGVhbikgPT4gdm9pZFxyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFjb2xsZWN0aW9uTmFtZSB8fCAhaWQgfHwgIWRhdGEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgZm9yIHVwZGF0ZURhdGFcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBjb2xsZWN0aW9uTmFtZSwgaWQpO1xyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwgZGF0YSk7XHJcbiAgICBjYWxsYmFjayh0cnVlKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGRhdGE6XCIsIGVycm9yKTtcclxuICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVEYXRhKFxyXG4gIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXHJcbiAgaWQ6IHN0cmluZyxcclxuICBjYWxsYmFjazogKHN1Y2Nlc3M6IGJvb2xlYW4pID0+IHZvaWRcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIGNvbGxlY3Rpb25OYW1lLCBpZCk7XHJcbiAgICBhd2FpdCBkZWxldGVEb2MoZG9jUmVmKTtcclxuICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGF0YTpcIiwgZXJyb3IpO1xyXG4gICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEZpbGUodXNlcmlkOiBzdHJpbmcsIGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIGlmIChmaWxlLnNpemUgPiAxMDQ4NTc2KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVa3VyYW4gZmlsZSBtYWtzaW1hbCAxTUIuXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbmV3TmFtZSA9IFwicHJvZmlsZS5cIiArIGZpbGUubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XHJcbiAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihzdG9yYWdlLCBgaW1hZ2VzL3VzZXJzLyR7dXNlcmlkfS8ke25ld05hbWV9YCk7XHJcbiAgY29uc3QgdXBsb2FkVGFzayA9IHVwbG9hZEJ5dGVzUmVzdW1hYmxlKHN0b3JhZ2VSZWYsIGZpbGUpO1xyXG5cclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgdXBsb2FkVGFzay5vbihcclxuICAgICAgXCJzdGF0ZV9jaGFuZ2VkXCIsXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZG93bmxvYWRVUkwgPSBhd2FpdCBnZXREb3dubG9hZFVSTCh1cGxvYWRUYXNrLnNuYXBzaG90LnJlZik7XHJcbiAgICAgICAgICByZXNvbHZlKGRvd25sb2FkVVJMKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImFkZERvYyIsImNvbGxlY3Rpb24iLCJkZWxldGVEb2MiLCJkb2MiLCJnZXREb2MiLCJnZXREb2NzIiwiZ2V0RmlyZXN0b3JlIiwicXVlcnkiLCJ1cGRhdGVEb2MiLCJ3aGVyZSIsImdldFN0b3JhZ2UiLCJyZWYiLCJ1cGxvYWRCeXRlc1Jlc3VtYWJsZSIsImdldERvd25sb2FkVVJMIiwiYXBwIiwiZmlyZXN0b3JlIiwic3RvcmFnZSIsInJldHJpZXZlRGF0YSIsImNvbGxlY3Rpb25OYW1lIiwic25hcHNob3QiLCJkYXRhIiwiZG9jcyIsIm1hcCIsImlkIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJyZXRyaWV2ZURhdGFCeUlkIiwiZXhpc3RzIiwicmV0cmlldmVEYXRhQnlGaWVsZCIsImZpZWxkIiwidmFsdWUiLCJxIiwiYWRkRGF0YSIsImNhbGxiYWNrIiwiZG9jUmVmIiwidXBkYXRlRGF0YSIsImRlbGV0ZURhdGEiLCJ1cGxvYWRGaWxlIiwidXNlcmlkIiwiZmlsZSIsInNpemUiLCJuZXdOYW1lIiwibmFtZSIsInNwbGl0IiwicG9wIiwic3RvcmFnZVJlZiIsInVwbG9hZFRhc2siLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9uIiwiZG93bmxvYWRVUkwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/firebase/service.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/user/profile.ts":
/*!***************************************!*\
  !*** ./src/pages/api/user/profile.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_firebase_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase/service */ \"(api)/./src/lib/firebase/service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_service__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_firebase_service__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    const token = req.headers.authorization?.split(\" \")[1];\n    if (!token) {\n        return res.status(401).json({\n            status: false,\n            statusCode: 401,\n            message: \"Token not found\"\n        });\n    }\n    let decoded;\n    try {\n        decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, process.env.NEXTAUTH_SECRET || \"\");\n    } catch (err) {\n        console.error(\"Token verification error:\", err);\n        return res.status(401).json({\n            status: false,\n            statusCode: 401,\n            message: \"Invalid token\"\n        });\n    }\n    if (req.method === \"GET\") {\n        try {\n            const profile = await (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_1__.retrieveDataById)(\"users\", decoded.id);\n            if (profile) {\n                profile.id = decoded.id;\n                res.status(200).json({\n                    status: true,\n                    statusCode: 200,\n                    message: \"Successfully retrieved profile\",\n                    data: profile\n                });\n            } else {\n                res.status(404).json({\n                    status: false,\n                    statusCode: 404,\n                    message: \"Profile not found\"\n                });\n            }\n        } catch (fetchError) {\n            console.error(\"Error retrieving profile:\", fetchError);\n            return res.status(500).json({\n                status: false,\n                statusCode: 500,\n                message: \"Error retrieving profile\"\n            });\n        }\n    } else if (req.method === \"PUT\") {\n        const { id, data } = req.body;\n        if (!id || !data) {\n            return res.status(400).json({\n                status: false,\n                statusCode: 400,\n                message: \"ID and data are required\"\n            });\n        }\n        try {\n            await (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_1__.updateData)(\"users\", id, data, (status)=>{\n                if (status) {\n                    res.status(200).json({\n                        status: true,\n                        statusCode: 200,\n                        message: \"Successfully updated\"\n                    });\n                } else {\n                    res.status(400).json({\n                        status: false,\n                        statusCode: 400,\n                        message: \"Failed to update\"\n                    });\n                }\n            });\n        } catch (error) {\n            console.error(\"Error updating profile:\", error);\n            res.status(500).json({\n                status: false,\n                statusCode: 500,\n                message: \"Failed to update data\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"PUT\"\n        ]);\n        return res.status(405).json({\n            status: false,\n            statusCode: 405,\n            message: `Method ${req.method} not allowed`\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WSxDQUFDO1FBQzdDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0b3JlLy4vc3JjL3BhZ2VzL2FwaS91c2VyL3Byb2ZpbGUudHM/OTEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuaW1wb3J0IHsgcmV0cmlldmVEYXRhQnlJZCwgdXBkYXRlRGF0YSB9IGZyb20gXCJAL2xpYi9maXJlYmFzZS9zZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxyXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXHJcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcclxuKSB7XHJcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdChcIiBcIilbMV07XHJcblxyXG4gIGlmICghdG9rZW4pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgIHN0YXR1czogZmFsc2UsXHJcbiAgICAgIHN0YXR1c0NvZGU6IDQwMSxcclxuICAgICAgbWVzc2FnZTogXCJUb2tlbiBub3QgZm91bmRcIixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbGV0IGRlY29kZWQ6IGFueTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfHwgXCJcIik7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiVG9rZW4gdmVyaWZpY2F0aW9uIGVycm9yOlwiLCBlcnIpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiBmYWxzZSxcclxuICAgICAgc3RhdHVzQ29kZTogNDAxLFxyXG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgdG9rZW5cIixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IGFueSA9IGF3YWl0IHJldHJpZXZlRGF0YUJ5SWQoXCJ1c2Vyc1wiLCBkZWNvZGVkLmlkKTtcclxuICAgICAgaWYgKHByb2ZpbGUpIHtcclxuICAgICAgICBwcm9maWxlLmlkID0gZGVjb2RlZC5pZDtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBzdGF0dXM6IHRydWUsXHJcbiAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSByZXRyaWV2ZWQgcHJvZmlsZVwiLFxyXG4gICAgICAgICAgZGF0YTogcHJvZmlsZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICBzdGF0dXM6IGZhbHNlLFxyXG4gICAgICAgICAgc3RhdHVzQ29kZTogNDA0LFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJQcm9maWxlIG5vdCBmb3VuZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChmZXRjaEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHByb2ZpbGU6XCIsIGZldGNoRXJyb3IpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN0YXR1czogZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgcmV0cmlldmluZyBwcm9maWxlXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gXCJQVVRcIikge1xyXG4gICAgY29uc3QgeyBpZCwgZGF0YSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgaWYgKCFpZCB8fCAhZGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIHN0YXR1czogZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiSUQgYW5kIGRhdGEgYXJlIHJlcXVpcmVkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZURhdGEoXCJ1c2Vyc1wiLCBpZCwgZGF0YSwgKHN0YXR1czogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgc3RhdHVzOiB0cnVlLFxyXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IHVwZGF0ZWRcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHN0YXR1czogZmFsc2UsXHJcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQwMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gdXBkYXRlXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHByb2ZpbGU6XCIsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN0YXR1czogZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHVwZGF0ZSBkYXRhXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc2V0SGVhZGVyKFwiQWxsb3dcIiwgW1wiR0VUXCIsIFwiUFVUXCJdKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7XHJcbiAgICAgIHN0YXR1czogZmFsc2UsXHJcbiAgICAgIHN0YXR1c0NvZGU6IDQwNSxcclxuICAgICAgbWVzc2FnZTogYE1ldGhvZCAke3JlcS5tZXRob2R9IG5vdCBhbGxvd2VkYCxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiand0IiwicmV0cmlldmVEYXRhQnlJZCIsInVwZGF0ZURhdGEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInNwbGl0Iiwic3RhdHVzIiwianNvbiIsInN0YXR1c0NvZGUiLCJtZXNzYWdlIiwiZGVjb2RlZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXRob2QiLCJwcm9maWxlIiwiaWQiLCJkYXRhIiwiZmV0Y2hFcnJvciIsImJvZHkiLCJzZXRIZWFkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/user/profile.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fuser%2Fprofile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cuser%5Cprofile.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();